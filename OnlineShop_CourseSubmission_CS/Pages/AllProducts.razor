@page "/allproducts"
@using OnlineShop_CourseSubmission_CS.Components
@using OnlineShop_CourseSubmission_CS.Data
@using System.Text.Json;
@using System.Text.Json.Serialization;
@inject Data DataService

<PageTitle>OnlineShop - All Products</PageTitle>

<h3>Products</h3>
<div class="cartItems-container">
	<div class="cartItemsList">
		@if (products != null)
		{
			foreach (var item in products)
			{
				<div class="card" >
					<div class="added-card">
						<img src=@item.image class="card-img-top" alt="products">
					</div>
					<div class="card-body overflow-auto" style="height:300px">
						<h5 class="card-title">@item.title</h5>
						<p class="card-text">@item.description</p>
					</div>	
					<ul class="list-group list-group-flush">
						<li class="list-group-item">€@item.price</li>
				   </ul>
					<div class="card-body d-flex justify-content-between">
						 <button  class="btn btn-secondary" >More <span class= "small-hidden">info</span></button>
						 <button  class="btn btn-secondary">Add <span class= "small-hidden">to cart</span> </button>	
					</div>
				</div>
			}
		}
	</div>
</div>




@code {
    private Products[] products;
    protected override async Task OnInitializedAsync()
    {
        products = await DataService.GetAllProducts();
    }

}