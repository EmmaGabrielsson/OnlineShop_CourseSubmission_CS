@page "/mensclothing"
@using OnlineShop_CourseSubmission_CS.Components
@using OnlineShop_CourseSubmission_CS.Data
@using System.Text.Json;
@using System.Text.Json.Serialization;
@inject DataService DataService
<PageTitle>OnlineShop - Men´s Clothing</PageTitle>


<h3>Products - Men´s Clothing</h3>

@if (mensProducts != null)
    {
        foreach (var item in mensProducts)
	{
		<div class="card">
			<a href="/product/@item.Id">
				<div class="added-card">
					<img src=@item.Image class="card-img-top" alt="products">
				</div>
			</a>
			<div class="card-body overflow-auto" style="height:300px">
				<h5 class="card-title">@item.Title</h5>
				<p class="card-text">@item.Description</p>
			</div>
			<ul class="list-group list-group-flush">
				<li class="list-group-item">€@item.Price</li>
			</ul>
			<div class="card-body d-flex justify-content-between">
				<button class="btn btn-secondary">More <span class="small-hidden">info</span></button>
				<button class="btn btn-secondary">Add <span class="small-hidden">to cart</span> </button>
			</div>
		</div>
	}
    }


@code {
    private Products[]? mensProducts;
    private Products[]? products;
    protected override async Task OnInitializedAsync()
    {
        products = await DataService.GetAllProducts();
        mensProducts = products.Where<Products>(prod => prod.Category == "men's clothing").ToArray<Products>();
    }

}